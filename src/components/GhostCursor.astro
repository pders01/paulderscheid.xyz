---

---

<div id="ghost-cursor" class="pointer-events-none fixed inset-0 z-[100] mix-blend-difference hidden md:block"></div>

<script>
    const cursor = document.getElementById("ghost-cursor");
    const particles: { x: number; y: number; age: number }[] = [];
    let mouseX = -100;
    let mouseY = -100;

    if (cursor) {
        document.addEventListener("mousemove", (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        const ctx = document.createElement("canvas");
        ctx.width = window.innerWidth;
        ctx.height = window.innerHeight;
        cursor.appendChild(ctx);
        const context = ctx.getContext("2d");

        window.addEventListener("resize", () => {
            ctx.width = window.innerWidth;
            ctx.height = window.innerHeight;
        });

        function animate() {
            if (!context) return;

            // Add new particle
            particles.push({ x: mouseX, y: mouseY, age: 0 });

            // Clear canvas
            context.clearRect(0, 0, ctx.width, ctx.height);

            // Draw particles
            context.beginPath();
            for (let i = 0; i < particles.length; i++) {
                const p = particles[i];
                p.age++;

                if (p.age > 20) {
                    particles.splice(i, 1);
                    i--;
                    continue;
                }

                const alpha = 1 - p.age / 20;
                context.fillStyle = `rgba(255, 255, 255, ${alpha * 0.5})`;
                context.fillRect(p.x, p.y, 2, 2);
            }

            requestAnimationFrame(animate);
        }

        animate();
    }
</script>
